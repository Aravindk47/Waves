// Transactions
syntax = "proto3";
option java_package = "com.wavesplatform.transaction.protobuf";
import "scalapb/scalapb.proto";

option (scalapb.options) = {
  import: "com.wavesplatform.serialization.protobuf.utils._"
  flat_package: true
};

message Transaction {
    option (scalapb.message).extends = "com.wavesplatform.transaction.protobuf.PBTransaction";
    option (scalapb.message).companion_extends = "com.wavesplatform.transaction.protobuf.PBTransactionCompanion";

    Body body = 1;
    Proofs wrappedProofs = 2;

    message Body {
        bytes assetId = 1 [(scalapb.field).type = "com.wavesplatform.transaction.AssetId"];
        bytes sender = 2 [(scalapb.field).type = "com.wavesplatform.account.PublicKeyAccount"];
        uint64 timestamp = 3;
        uint64 fee = 4;
        bytes feeAssetId = 5 [(scalapb.field).type = "com.wavesplatform.transaction.AssetId"];
        Attachments attachment = 6;
        Data data = 7;
    };

    message Attachments {
        message Attachment {
            bytes data = 1 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
        };
        repeated Attachment attachments = 1;
    };

    message Proofs {
        message Proof {
            bytes data = 1 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
        }

        repeated Proof proofs = 1;
    };

    message Data {
        oneof data {
            MassTransferData massTransfer = 11;
        }
    };
};

message MassTransferData {
    message Transfer {
        bytes address = 1 [(scalapb.field).type = "com.wavesplatform.account.AddressOrAlias"];
        uint64 amount = 2;
    };

    repeated Transfer transfers = 3;
};