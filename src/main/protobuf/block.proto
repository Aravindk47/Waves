// Transactions
syntax = "proto3";
option java_package = "com.wavesplatform.block.protobuf";
import "scalapb/scalapb.proto";
import "transactions.proto";

option (scalapb.options) = {
    import: "com.wavesplatform.serialization.protobuf.utils._"
    flat_package: true
};

message Block {
    option (scalapb.message).companion_extends = "com.wavesplatform.block.protobuf.PBBlockCompanionBase";

    bytes reference = 1 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
    SignerData signerData = 2;
    ConsensusData consensusData = 3;
    repeated Transaction transactions = 4;
    repeated uint32 featureVotes = 5 [(scalapb.field).collection_type = "scala.collection.immutable.Set"];
    uint64 timestamp = 6;
    uint32 version = 7;

    message SignerData {
        bytes generator = 1 [(scalapb.field).type = "com.wavesplatform.account.PublicKeyAccount"];
        bytes signature = 2 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
    };

    message ConsensusData {
        uint64 baseTarget = 1;
        bytes generationSignature = 2 [(scalapb.field).type = "com.wavesplatform.common.state.ByteStr"];
    };
};